(this.webpackJsonpFront3=this.webpackJsonpFront3||[]).push([[0],{64:function(t,e,n){},65:function(t,e){},66:function(t,e,n){},67:function(t,e){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var r=n(13),c=n(3),i=n(1),a=n(31),o=n.n(a),s=n(11),u=n(5),j=n(2),d=n.n(j),l=n(4),h=n(12),p=n.n(h),b=n(0);function O(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("http://fitnesstrac-kr.herokuapp.com/api/activities");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v=function(t){var e=t.isLoggedIn,n=Object(i.useState)([]),r=Object(c.a)(n,2),a=r[0],o=r[1],s=Object(i.useState)(""),u=Object(c.a)(s,2),j=u[0],h=u[1],p=Object(i.useState)(""),f=Object(c.a)(p,2),v=f[0],x=f[1];function g(){return(g=Object(l.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,fetch("http://fitnesstrac-kr.herokuapp.com/api/activities",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:j,description:v})}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch(console.error);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){function t(){return(t=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:e=t.sent,o(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),console.log(a),Object(b.jsxs)("div",{id:"masterActivity",children:[Object(b.jsx)("div",{id:"createActivity",children:e?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{type:"text",value:j,placeholder:"Enter Activity Name",onChange:function(t){h(t.target.value)}}),Object(b.jsx)("input",{type:"text",value:v,placeholder:"Enter Activity Description",onChange:function(t){x(t.target.value)}}),Object(b.jsxs)("button",{onClick:function(t){!function(t){g.apply(this,arguments)}(t)},children:[" ","Add Activity"]})]}):Object(b.jsx)(b.Fragment,{})}),Object(b.jsxs)("div",{id:"activities",children:[Object(b.jsx)("h3",{children:"All Activities"}),a.map((function(t,e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["Name: ",t.name]}),Object(b.jsxs)("p",{children:["Description: ",t.description]})]},t.id)}))]})]})};var x=function(){return Object(b.jsxs)("div",{id:"homePage",children:[Object(b.jsx)("img",{src:"https://unsplash.com/photos/zjO7xkCogZM/download?force=true",alt:"Yoga Picture",id:"imgYoga"})," ",Object(b.jsxs)("div",{id:"homeMessage",children:["Your Journey Starts Here",Object(b.jsx)("p",{children:"Check out some of our public routines or login for free for more customized experience."}),Object(b.jsx)("p",{children:"Let get started..."})]})]})},g=function(){var t=Object(i.useState)(""),e=Object(c.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)(""),o=Object(c.a)(a,2),s=o[0],u=o[1],j=Object(i.useState)(!1),h=Object(c.a)(j,2),p=(h[0],h[1],"Bearer "+localStorage.token);function O(){return(O=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("create routine with..",n,s,p),t.next=3,fetch("http://fitnesstrac-kr.herokuapp.com/api/routines",{method:"POST",headers:{"Content-Type":"application/json",Authorization:p},body:JSON.stringify({name:n,goal:s,isPublic:!0})}).then((function(t){return t.json()})).then((function(t){return t})).catch(console.error);case 3:return e=t.sent,console.log(e),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{id:"newRoutine",children:[Object(b.jsx)("input",{type:"text",onChange:function(t){r(t.target.value)},name:n,placeholder:"Name a New Routine",value:n}),Object(b.jsx)("input",{type:"text",onChange:function(t){u(t.target.value)},goal:s,placeholder:"Set your Goal",value:s}),Object(b.jsxs)("button",{id:"newRoutineButton",onClick:function(t){!function(){O.apply(this,arguments)}()},children:["Create"," "]})]})},m="Bearer "+localStorage.token;var y=function(t){var e=t.routineActivityId,n=t.render,r=t.setRender;function c(){return(c=Object(l.a)(d.a.mark((function t(c){var i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),(i=fetch("http://fitnesstrac-kr.herokuapp.com/api/routine_activities/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:m}}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch(console.error)).success&&r(n+1),console.log("del activity",i);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)("div",{id:"deleteActivity",children:Object(b.jsx)("button",{onClick:function(t){!function(t){c.apply(this,arguments)}(t)},children:"Delete Activity"})})},k=function(t){t.isLoggedIn;var e=t.id,n=t.setEditRoutineId,r=t.setCount,a=t.setDuration,o=t.setRoutineActivityId,u=t.setrName,j=Object(i.useState)(""),h=Object(c.a)(j,2),O=(h[0],h[1],Object(i.useState)([])),f=Object(c.a)(O,2),v=f[0],x=f[1],m=Object(i.useState)(0),k=Object(c.a)(m,2),S=k[0],I=k[1];function w(){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("http://fitnesstrac-kr.herokuapp.com/api/users/".concat(e,"/routines"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=t.sent,r=n.data,console.log(r),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){function t(){return(t=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:e=t.sent,x(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[S]),console.log(v),Object(b.jsxs)("div",{id:"masterMyRoutines",children:[Object(b.jsx)(g,{}),Object(b.jsx)("div",{id:"myRoutines",children:v?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{id:"test",children:"My Routines"}),v.slice(0).reverse().map((function(t){return Object(b.jsxs)("div",{children:[" ",Object(b.jsxs)("div",{id:"singleRoutine",children:[Object(b.jsx)("h3",{children:t.name}),Object(b.jsxs)(b.Fragment,{children:["Goal: ",t.goal]}),Object(b.jsxs)("p",{children:["By: ",t.creatorName]}),Object(b.jsx)("h5",{children:"Activites"}),t.activities.map((function(t,e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{id:"routineActivities",children:[Object(b.jsx)("p",{children:t.name}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:t.description}),Object(b.jsxs)("li",{children:["Duration: ",t.duration]}),Object(b.jsxs)("li",{children:["Count: ",t.count]})]})]},e),Object(b.jsx)(y,{routineActivityId:t.routineActivityId,render:S,setRender:I}),Object(b.jsx)(s.b,{to:"/editactivity",onClick:function(e){o(t.routineActivityId),r(t.count),a(t.duration)},children:"Edit Activity"})]})}))]}),Object(b.jsx)(s.b,{to:"/addactivity",onClick:function(e){n(t.id),u(t.name)},children:"Add Activites"})]},t.id)}))]}):Object(b.jsx)("h3",{children:"You have not made any Routines yet."})})]})};function S(){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("http://fitnesstrac-kr.herokuapp.com/api/routines");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(){var t=Object(i.useState)([]),e=Object(c.a)(t,2),n=e[0],r=e[1];return Object(i.useEffect)((function(){function t(){return(t=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:e=t.sent,r(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),console.log(n),Object(b.jsx)("div",{id:"masterRoutines",children:Object(b.jsxs)("div",{id:"allroutines",children:[Object(b.jsx)("h3",{children:"All Routines"}),n.slice(0).reverse().map((function(t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:t.name}),Object(b.jsxs)(b.Fragment,{children:["Goal: ",t.goal]}),Object(b.jsxs)("p",{children:["By: ",t.creatorName]}),Object(b.jsx)("h5",{children:"Activites"}),t.activities.map((function(t,e){return Object(b.jsxs)("div",{id:"routineActivities",children:[Object(b.jsx)("p",{children:t.name}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:t.description}),Object(b.jsxs)("li",{children:["Duration: ",t.duration]}),Object(b.jsxs)("li",{children:["Count: ",t.count]})]})]},e)}))]},t.id)}))]})})};n(60),n(64),n(65);var A=function(t){var e=t.isLoggedIn;return Object(b.jsx)("div",{id:"navmaster",children:Object(b.jsxs)("div",{id:"navbar",children:[Object(b.jsx)(s.b,{to:"/",id:"nav_home",children:"Home"}),Object(b.jsx)(s.b,{to:"/routines",id:"nav_routines",children:"Routines"})," ",e?Object(b.jsx)(s.b,{to:"/myroutines",children:"My Routines"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)(s.b,{to:"/activities",id:"nav_activities",children:"Activites"})," "]})})};n(66),n(67);var C=function(t){var e=t.isLoggedIn,n=t.setIsLoggedIn,r=t.id,a=t.setId,o=Object(i.useState)(""),s=Object(c.a)(o,2),u=s[0],j=s[1],h=Object(i.useState)(""),p=Object(c.a)(h,2),O=p[0],f=p[1];function v(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://fitnesstrac-kr.herokuapp.com/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,password:O})}).then((function(t){return t.json()})).then((function(t){return t})).catch(console.error);case 2:if(e=t.sent,console.log(e),"Username or password is incorrect"!=e.message){t.next=6;break}return t.abrupt("return",alert("Wrong Password"));case 6:localStorage.setItem("token",e.token),localStorage.setItem("username",e.user.username),n(!0),a(u),j(""),f("");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u&&O){t.next=3;break}return t.abrupt("return",alert("Please enter valid username and password!"));case 3:return t.next=5,fetch("http://fitnesstrac-kr.herokuapp.com/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,password:O})}).then((function(t){return t.json()})).then((function(t){return t})).catch(console.error);case 5:e=t.sent,console.log(e),e.error?v():(localStorage.setItem("token",e.token),localStorage.setItem("username",e.user.username),a(u),j(""),f(""),n(!0));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e?Object(b.jsxs)("div",{id:"logout",children:[Object(b.jsxs)(b.Fragment,{children:["Hi, ",r," "]}),Object(b.jsx)("button",{onClick:function(t){n(!1),localStorage.setItem("token",""),localStorage.setItem("username","")},children:"Log Out"})]}):Object(b.jsxs)("div",{id:"register",children:[" ",Object(b.jsx)("div",{id:"reg_from",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",onChange:function(t){j(t.target.value)},username:u,placeholder:"User ID",value:u}),Object(b.jsx)("input",{type:"password",onChange:function(t){f(t.target.value)},password:O,placeholder:"Password",value:O}),Object(b.jsx)("button",{id:"register_button",onClick:function(t){!function(){g.apply(this,arguments)}()},children:"Register / Login"})]})})]})};n(68);var R=function(t){var e=t.isLoggedIn,n=t.setIsLoggedIn,r=t.id,c=t.setId;return console.log(e),Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsxs)("div",{id:"header",children:[Object(b.jsx)("div",{id:"welcome",children:"Welcome to Fitness Tracker"}),Object(b.jsx)(C,{isLoggedIn:e,setIsLoggedIn:n,id:r,setId:c})]}),Object(b.jsx)(A,{isLoggedIn:e})]})};var L=function(){return Object(b.jsx)("div",{id:"footer",children:"- made by Viral Bhavsar......"})};function N(){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("http://fitnesstrac-kr.herokuapp.com/api/activities");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E=function(t){var e=t.editRoutineId,n=t.rName,r=Object(i.useState)(""),a=Object(c.a)(r,2),o=a[0],s=(a[1],Object(i.useState)("")),u=Object(c.a)(s,2),j=u[0],h=(u[1],Object(i.useState)(!1)),p=Object(c.a)(h,2),O=(p[0],p[1],Object(i.useState)([])),f=Object(c.a)(O,2),v=f[0],x=f[1],g=Object(i.useState)(61),m=Object(c.a)(g,2),y=m[0],k=m[1],S=Object(i.useState)(1),I=Object(c.a)(S,2),w=I[0],A=I[1],C=Object(i.useState)(1),R=Object(c.a)(C,2),L=R[0],D=R[1];console.log(y),Object(i.useEffect)((function(){function t(){return(t=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:e=t.sent,x(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var E="Bearer "+localStorage.token;function B(){return(B=Object(l.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("create routine with..",o,j,E),t.next=3,fetch("http://fitnesstrac-kr.herokuapp.com/api/routines/".concat(e,"/activities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:E},body:JSON.stringify({activityId:y,count:w,duration:L})}).then((function(t){return t.json()})).then((function(t){return t})).catch(console.error);case 3:return n=t.sent,console.log(n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{id:"newRoutine",children:[" ",Object(b.jsxs)("h5",{children:["Routine Name - ",n]})," ",Object(b.jsx)("h5",{children:"Activity"}),Object(b.jsx)("select",{id:"activities",onChange:function(t){k(t.target.value)},children:v.map((function(t){return Object(b.jsx)("option",{value:t.id,children:t.name},t.id)}))})," ",Object(b.jsx)("h5",{children:"Activity Duration"}),Object(b.jsx)("input",{type:"number",min:"1",max:"100",onChange:function(t){D(t.target.value)}}),Object(b.jsx)("h5",{children:"Count"}),Object(b.jsx)("input",{type:"number",min:"1",max:"100",onChange:function(t){A(t.target.value)}})," ",Object(b.jsx)("p",{}),Object(b.jsx)("button",{id:"newRoutineButton",onClick:function(t){!function(){B.apply(this,arguments)}()},children:"Update Routine / Add Activity"})]})};var B=function(t){var e=t.count,n=t.duration,r=t.routineActivityId,c=t.setCount,i=t.setDuration;function a(){return(a=Object(l.a)(d.a.mark((function t(){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,n,r),console.log("Bearer ".concat(localStorage.getItem("token"))),t.next=4,fetch("http://fitnesstrac-kr.herokuapp.com/api/api/routine_activities/".concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},method:"PATCH",body:JSON.stringify({count:e,duration:n})}).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch(console.error);case 4:c=t.sent,console.log(c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{children:["Duration -"," ",Object(b.jsx)("input",{type:"number",min:"0",max:"100",value:n,onChange:function(t){i(t.target.value)}})," ","Count -"," ",Object(b.jsx)("input",{type:"number",min:"0",max:"100",value:e,onChange:function(t){c(t.target.value)}}),Object(b.jsx)("button",{onClick:function(t){!function(){a.apply(this,arguments)}(t)},children:"Update Activity"})]})},T=function(){var t=Object(i.useState)(!1),e=Object(c.a)(t,2),n=e[0],a=e[1],o=Object(i.useState)(""),j=Object(c.a)(o,2),d=j[0],l=j[1],h=Object(i.useState)(""),p=Object(c.a)(h,2),O=p[0],f=p[1],g=Object(i.useState)(0),m=Object(c.a)(g,2),y=m[0],S=m[1],I=Object(i.useState)(0),A=Object(c.a)(I,2),C=A[0],N=A[1],D=Object(i.useState)(""),T=Object(c.a)(D,2),F=T[0],P=T[1],J=Object(i.useState)(""),z=Object(c.a)(J,2),_=z[0],M=z[1];return Object(i.useEffect)((function(){localStorage.getItem("token")&&a(!0)}),[]),Object(i.useEffect)((function(){localStorage.getItem("username")&&l(localStorage.getItem("username"))}),[]),Object(b.jsx)(s.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(R,{isLoggedIn:n,setIsLoggedIn:a,id:d,setId:l}),Object(b.jsx)(u.a,{exact:!0,strict:!0,path:"/",render:x}),Object(b.jsx)(u.a,{path:"/routines",component:w}),Object(b.jsx)(u.a,{path:"/myroutines",render:function(t){return Object(b.jsx)(k,Object(r.a)(Object(r.a)({},t),{},{isLoggedIn:n,id:d,setEditRoutineId:f,setCount:S,setDuration:N,setRoutineActivityId:P,setrName:M}))}})," ",Object(b.jsx)(u.a,{path:"/activities",render:function(t){return Object(b.jsx)(v,Object(r.a)(Object(r.a)({},t),{},{isLoggedIn:n}))}}),Object(b.jsx)(u.a,{path:"/addactivity",render:function(t){return Object(b.jsx)(E,Object(r.a)(Object(r.a)({},t),{},{isLoggedIn:n,id:d,editRoutineId:O,rName:_}))}}),Object(b.jsx)(u.a,{path:"/editactivity",render:function(t){return Object(b.jsx)(B,Object(r.a)(Object(r.a)({},t),{},{isLoggedIn:n,id:d,editRoutineId:O,count:y,duration:C,routineActivityId:F,setCount:S,setDuration:N,setRoutineActivityId:P}))}}),Object(b.jsx)(L,{})]})})};o.a.render(Object(b.jsx)(T,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.efc6b585.chunk.js.map