(this.webpackJsonpFront3=this.webpackJsonpFront3||[]).push([[0],{29:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(31),a=n.n(c),s=n(11),i=n(4),o=n(2),u=n.n(o),j=n(3),l=n(6),b=n(12),d=n.n(b),p=n(0);function h(){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://fitnesstrac-kr.herokuapp.com/api/activities");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(n),Object(p.jsx)("div",{id:"activities",children:n.map((function(e,t){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h3",{children:["Name: ",e.name]}),Object(p.jsxs)("p",{children:["Description: ",e.description]})]},e.id)}))})};var x=function(){return Object(p.jsx)("h1",{})};var v=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(j.a)(a,2),i=s[0],o=s[1];function b(){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://fitnesstrac-kr.herokuapp.com/api/users/"+{username:n}+"/routines");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){c(localStorage.username)}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(i),i.length?Object(p.jsxs)("div",{id:"myroutines",children:[Object(p.jsx)("h3",{children:"My Public Routines"}),i.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:e.name}),Object(p.jsxs)(p.Fragment,{children:["Goal: ",e.goal]}),Object(p.jsxs)("p",{children:["By: ",e.creatorName]}),Object(p.jsx)("h5",{children:"Activites"}),e.activities.map((function(e,t){return Object(p.jsxs)("div",{id:"routineActivities",children:[Object(p.jsx)("p",{children:e.name}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:e.description}),Object(p.jsxs)("li",{children:["Duration: ",e.duration]}),Object(p.jsxs)("li",{children:["Count: ",e.count]})]})]},t)}))]},e.id)}))]}):Object(p.jsx)(p.Fragment,{})},m=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(j.a)(a,2),i=s[0],o=s[1],b=Object(r.useState)(!1),d=Object(j.a)(b,2),h=(d[0],d[1],Object(r.useState)(Boolean)),O=Object(j.a)(h,2),f=(O[0],O[1],"Bearer "+localStorage.token);function x(){return(x=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("create routine with..",n,i,f),e.next=3,fetch("http://fitnesstrac-kr.herokuapp.com/api/routines",{method:"POST",headers:{"Content-Type":"application/json",Authorization:f},body:JSON.stringify({name:n,goal:i,isPublic:!0})}).then((function(e){return e.json()})).then((function(e){return e})).catch(console.error);case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("div",{id:"newRoutine",children:[Object(p.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},name:n,placeholder:"Name a New Routine",value:n}),Object(p.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)},goal:i,placeholder:"Set your Goal",value:i}),Object(p.jsx)("button",{id:"newRoutineButton",onClick:function(){return x.apply(this,arguments)},children:"Create "})]})};function g(){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://fitnesstrac-kr.herokuapp.com/api/routines");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(n),Object(p.jsxs)("div",{id:"masterRoutines",children:[Object(p.jsx)(m,{}),Object(p.jsx)(v,{}),Object(p.jsxs)("div",{id:"allroutines",children:[Object(p.jsx)("h3",{children:"All Routines"}),n.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:e.name}),Object(p.jsxs)(p.Fragment,{children:["Goal: ",e.goal]}),Object(p.jsxs)("p",{children:["By: ",e.creatorName]}),Object(p.jsx)("h5",{children:"Activites"}),e.activities.map((function(e,t){return Object(p.jsxs)("div",{id:"routineActivities",children:[Object(p.jsx)("p",{children:e.name}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:e.description}),Object(p.jsxs)("li",{children:["Duration: ",e.duration]}),Object(p.jsxs)("li",{children:["Count: ",e.count]})]})]},t)}))]},e.id)}))]})]})};n(56),n(29);var S=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(j.a)(a,2);return i[0],i[1],console.log(n),Object(r.useEffect)((function(){c(!!localStorage.token)}),localStorage.token),n?Object(p.jsxs)("div",{id:"mynavbar",children:[Object(p.jsx)(s.b,{to:"/myroutines",children:"My Routines"}),Object(p.jsx)(s.b,{to:"/myactivities",children:"My Activites"})]}):Object(p.jsx)("div",{})};var w=function(){return Object(p.jsxs)("div",{id:"navmaster",children:[Object(p.jsxs)("div",{id:"navbar",children:[Object(p.jsx)(s.b,{to:"/",id:"nav_home",children:"Home"}),Object(p.jsx)(s.b,{to:"/routines",id:"nav_routines",children:"Routines"}),Object(p.jsx)(s.b,{to:"/activities",id:"nav_activities",children:"Activites"}),Object(p.jsx)(s.b,{to:"/extra",id:"nav_extra",children:"Extra"})]}),Object(p.jsx)(S,{})]})};n(64);var C=function(e){var t=Object(r.useState)(!!localStorage.token),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(j.a)(s,2),o=i[0],b=i[1],d=Object(r.useState)(""),h=Object(j.a)(d,2),O=h[0],f=h[1];function x(){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://fitnesstrac-kr.herokuapp.com/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:O})}).then((function(e){return e.json()})).then((function(e){return e})).catch(console.error);case 2:if(t=e.sent,console.log(t),"Username or password is incorrect"!=t.message){e.next=6;break}return e.abrupt("return",alert("Wrong Password"));case 6:localStorage.setItem("token",t.token),localStorage.setItem("username",t.user.username),a(!0),b(""),f("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o||O){e.next=2;break}return e.abrupt("return",alert("Please enter valid username and password!"));case 2:return e.next=4,fetch("http://fitnesstrac-kr.herokuapp.com/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:O})}).then((function(e){return e.json()})).then((function(e){return e})).catch(console.error);case 4:if(t=e.sent,console.log(t),"A user by that username already exists"!=t.message){e.next=8;break}return e.abrupt("return",x());case 8:localStorage.setItem("token",t.token),localStorage.setItem("username",t.user.username),b(""),f("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c?Object(p.jsx)("div",{id:"logout",children:Object(p.jsx)("button",{onClick:function(){a(!1),localStorage.setItem("token",""),localStorage.setItem("username","")},children:"Log Out"})}):Object(p.jsx)("div",{id:"register",children:Object(p.jsx)("div",{id:"reg_from",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"text",onChange:function(e){b(e.target.value)},username:o,placeholder:"User ID",value:o}),Object(p.jsx)("input",{type:"text",onChange:function(e){f(e.target.value)},password:O,placeholder:"Password",value:O}),Object(p.jsx)("button",{id:"register_button",onClick:function(){return m.apply(this,arguments)},children:"Register / Login"})]})})})};n(65);var A=function(){var e=Object(r.useState)(!!localStorage.token),t=Object(j.a)(e,2),n=t[0],c=t[1];return console.log(n),Object(r.useEffect)((function(){c(!!localStorage.token)}),[!!localStorage.token]),Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsxs)("div",{id:"header",children:[Object(p.jsx)("div",{id:"welcome",children:"Welcome to Fitness Tracker"}),Object(p.jsx)(C,{})]}),Object(p.jsx)(w,{})]})};var R=function(){return Object(p.jsx)("div",{id:"footer",children:"- made by Viral Bhavsar......"})},E=function(){return Object(p.jsx)(s.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(A,{}),Object(p.jsx)(x,{}),Object(p.jsx)(i.a,{path:"/routines",component:k}),Object(p.jsx)(i.a,{path:"/activities",component:f}),Object(p.jsx)(v,{}),Object(p.jsx)(R,{})]})})};a.a.render(Object(p.jsx)(E,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.f5ad0309.chunk.js.map